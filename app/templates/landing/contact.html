{% extends "landing/base_landing.html" %}

{% block title %}Ubicación y Contacto | F.I.S.M Technology SRL{% endblock %}

{% block meta_description %}Visita nuestro showroom en Santo Domingo. Prueba los dispositivos, recibe asesoría experta y
disfruta de la mejor experiencia tecnológica en República Dominicana.{% endblock %}

{% block og_title %}Ubicación y Contacto | F.I.S.M Technology SRL{% endblock %}
{% block og_description %}Ven a conocer el futuro de la tecnología en nuestro showroom principal. Asesoría experta en un
ambiente diseñado para inspirar.{% endblock %}

{% block extra_css %}
<style>
    .orb {
        animation: orb-drift 10s ease-in-out infinite;
        will-change: transform;
    }

    @keyframes orb-drift {
        0% {
            transform: translate(0, 0) scale(1);
        }

        33% {
            transform: translate(25px, -40px) scale(1.08);
        }

        66% {
            transform: translate(-15px, 15px) scale(0.94);
        }

        100% {
            transform: translate(0, 0) scale(1);
        }
    }

    /* MAP — ALWAYS FULL COLOR */
    .map-container iframe {
        filter: none;
        transition: none;
    }

    .contact-glass {
        background: rgba(255, 255, 255, 0.72);
        backdrop-filter: blur(24px);
        -webkit-backdrop-filter: blur(24px);
        border: 1px solid rgba(255, 255, 255, 0.55);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.06);
    }

    [data-theme="dark"] .contact-glass {
        background: rgba(14, 12, 22, 0.72);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
    }

    .experience-card {
        background: var(--surface-primary);
        border: 1px solid var(--border-subtle);
        border-radius: 1.25rem;
        padding: 1.5rem;
        transition: all 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
    }

    @media (min-width: 768px) {
        .experience-card {
            border-radius: 1.5rem;
            padding: 1.75rem;
        }
    }

    .experience-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 16px 40px rgba(124, 58, 237, 0.08);
        border-color: var(--primary);
    }

    @media (max-width: 768px) {
        .experience-card:hover {
            transform: translateY(-3px);
        }
    }

    .detail-row {
        transition: all 0.3s ease;
        border-radius: 0.75rem;
        padding: 0.5rem;
        margin: -0.5rem;
    }

    .detail-row:hover {
        background: var(--surface-secondary);
    }

    /* Mobile map layout */
    .map-wrapper {
        display: flex;
        flex-direction: column;
        height: auto;
        min-height: 480px;
    }

    @media (min-width: 768px) {
        .map-wrapper {
            display: block;
            height: 560px;
        }
    }
</style>
{% endblock %}

{% block content %}

<!-- Hero -->
<header class="pt-8 pb-8 md:pt-16 md:pb-16 relative overflow-hidden">
    <div
        class="absolute top-0 left-1/4 w-60 md:w-80 h-60 md:h-80 bg-blue-300/15 rounded-full blur-[100px] orb mix-blend-multiply dark:mix-blend-screen pointer-events-none">
    </div>
    <div class="absolute top-8 right-1/4 w-48 md:w-64 h-48 md:h-64 bg-purple-400/15 rounded-full blur-[80px] orb mix-blend-multiply dark:mix-blend-screen pointer-events-none"
        style="animation-delay:-3s"></div>

    <div class="container-custom text-center relative z-10">
        <h1 class="hero-title text-[var(--text-main)] mb-3 md:mb-4">
            Visítanos en Santo Domingo.
        </h1>
        <p class="subtitle max-w-2xl">
            Ven a conocer el futuro de la tecnología en nuestro showroom principal.
            Asesoría experta en un ambiente diseñado para inspirar.
        </p>
    </div>
</header>

<!-- Map + Floating Card -->
<section class="container-custom mb-10 md:mb-20">
    <div
        class="relative w-full map-wrapper rounded-2xl md:rounded-3xl shadow-lg overflow-hidden map-container group bg-[var(--surface-secondary)]">

        <!-- MAP — FULL COLOR ALWAYS (no grayscale filter) -->
        <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3784.468014935182!2d-69.9102805!3d18.466529!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8eaf8971eae901d3%3A0xfa8226592c08607e!2sFISM%20Technology%20SRL!5e0!3m2!1ses!2sdo!4v1709228912345!5m2!1ses!2sdo"
            class="w-full h-64 md:absolute md:inset-0 md:h-full border-0 flex-shrink-0" allowfullscreen=""
            loading="lazy" referrerpolicy="no-referrer-when-downgrade"
            title="Ubicación de FISM Technology SRL en Google Maps">
        </iframe>

        <!-- Floating Glass Card -->
        <div class="relative w-full p-4 md:absolute md:top-6 md:right-6 md:w-[22rem] md:p-0 z-10">
            <div
                class="contact-glass rounded-2xl md:rounded-3xl p-5 md:p-7 transform transition-all hover:scale-[1.01] duration-300">

                <!-- Store Status -->
                <div class="flex items-center gap-2 mb-3 md:mb-4">
                    <span id="status-dot" class="w-2.5 h-2.5 rounded-full bg-gray-400 flex-shrink-0"></span>
                    <span id="store-status"
                        class="text-xs font-bold text-gray-500 uppercase tracking-wider">Cargando...</span>
                </div>

                <h2 class="text-lg md:text-xl font-bold font-heading mb-1 text-[var(--text-main)]">
                    <span class="text-gradient">F.I.S.M Technology S.R.L</span>
                </h2>
                <p class="text-[var(--text-secondary)] text-sm mb-4 md:mb-5 leading-relaxed">
                    Plaza Royal, Local 109<br>
                    Avenida Máximo Gómez, esq. José Contreras<br>
                    Santo Domingo, DN 10210<br>
                    República Dominicana
                </p>

                <!-- Hours -->
                <div
                    class="space-y-2 mb-4 md:mb-5 text-sm text-[var(--text-secondary)] border-t border-[var(--border-subtle)] pt-3 md:pt-4">
                    <div class="flex justify-between">
                        <span>Lun – Vie</span>
                        <span class="font-semibold text-[var(--text-main)]">09:00 AM – 06:00 PM</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Sábados</span>
                        <span class="font-semibold text-[var(--text-main)]">09:00 AM – 05:00 PM</span>
                    </div>
                    <div class="flex justify-between text-[var(--text-tertiary)]">
                        <span>Domingos</span>
                        <span>Bajo Cita</span>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="grid grid-cols-2 gap-2 md:gap-2.5 mb-2">
                    <a href="https://waze.com/ul?q=Plaza+Royal+Local+109+Avenida+Máximo+Gómez+esq+José+Contreras+Santo+Domingo"
                        target="_blank" rel="noopener noreferrer"
                        class="flex items-center justify-center gap-2 bg-purple-600 text-white py-2.5 rounded-xl hover:bg-purple-700 transition-colors text-sm font-semibold shadow-md active:scale-95">
                        <i class="fa-solid fa-diamond-turn-right"></i> Waze
                    </a>
                    <a href="https://maps.google.com/?q=Plaza+Royal+Local+109+Avenida+Máximo+Gómez+esq+José+Contreras+Santo+Domingo"
                        target="_blank" rel="noopener noreferrer"
                        class="flex items-center justify-center gap-2 bg-[var(--surface-secondary)] text-[var(--text-main)] py-2.5 rounded-xl hover:bg-[var(--surface-tertiary)] transition-colors text-sm font-semibold border border-[var(--border-subtle)] active:scale-95">
                        <i class="fa-solid fa-map-location-dot"></i> Maps
                    </a>
                </div>
                <a href="https://wa.me/18298233450" target="_blank" rel="noopener noreferrer"
                    class="flex items-center justify-center gap-2 bg-[#25D366] text-white py-2.5 rounded-xl hover:bg-[#1fb855] transition-colors text-sm font-semibold shadow-md w-full active:scale-95">
                    <i class="fa-brands fa-whatsapp text-base"></i> Escribir por WhatsApp
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Experience Cards -->
<section class="container-custom mb-10 md:mb-20">
    <div class="text-center mb-8 md:mb-12">
        <h3 class="section-title text-[var(--text-main)]">La Experiencia <span class="text-gradient">F.I.S.M Technology
                SRL</span></h3>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5">
        <div class="experience-card flex flex-col items-start group">
            <div
                class="w-11 h-11 md:w-12 md:h-12 bg-blue-50 dark:bg-blue-900/25 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center mb-4 md:mb-5 text-lg group-hover:scale-110 transition-transform duration-300">
                <i class="fa-solid fa-laptop-code"></i>
            </div>
            <h4 class="text-base md:text-lg font-bold font-heading mb-2 text-[var(--text-main)]">Zona de Demostración
            </h4>
            <p class="text-[var(--text-secondary)] leading-relaxed text-sm">
                Prueba cada equipo antes de comprarlo. Todos nuestros dispositivos en exhibición están encendidos y
                listos para que los experimentes.
            </p>
        </div>
        <div class="experience-card flex flex-col items-start group">
            <div
                class="w-11 h-11 md:w-12 md:h-12 bg-purple-50 dark:bg-purple-900/25 text-purple-600 dark:text-purple-400 rounded-xl flex items-center justify-center mb-4 md:mb-5 text-lg group-hover:scale-110 transition-transform duration-300">
                <i class="fa-solid fa-mug-hot"></i>
            </div>
            <h4 class="text-base md:text-lg font-bold font-heading mb-2 text-[var(--text-main)]">Tech Bar & Genius</h4>
            <p class="text-[var(--text-secondary)] leading-relaxed text-sm">
                Disfruta de un café artesanal mientras nuestros técnicos certificados configuran tu nuevo equipo o
                resuelven tus dudas.
            </p>
        </div>
        <div class="experience-card flex flex-col items-start group">
            <div
                class="w-11 h-11 md:w-12 md:h-12 bg-emerald-50 dark:bg-emerald-900/25 text-emerald-600 dark:text-emerald-400 rounded-xl flex items-center justify-center mb-4 md:mb-5 text-lg group-hover:scale-110 transition-transform duration-300">
                <i class="fa-solid fa-user-tie"></i>
            </div>
            <h4 class="text-base md:text-lg font-bold font-heading mb-2 text-[var(--text-main)]">Asesores Expertos</h4>
            <p class="text-[var(--text-secondary)] leading-relaxed text-sm">
                No somos vendedores, somos entusiastas. Te ayudamos a encontrar exactamente lo que necesitas para tu
                flujo de trabajo.
            </p>
        </div>
    </div>
</section>

<!-- Visit Details + Visual -->
<section class="container-custom mb-10 md:mb-20">
    <div
        class="bg-[var(--surface-primary)] rounded-2xl md:rounded-3xl overflow-hidden shadow-md border border-[var(--border-subtle)] flex flex-col md:flex-row">
        <!-- Info List -->
        <div class="p-5 md:p-10 md:w-1/2 flex flex-col justify-center">
            <h3 class="subsection-title text-[var(--text-main)] mb-5 md:mb-7">Detalles para tu visita</h3>

            <div class="space-y-4 md:space-y-5">
                <div class="detail-row flex items-start gap-3 md:gap-4">
                    <div
                        class="w-9 h-9 md:w-10 md:h-10 rounded-xl bg-[var(--surface-secondary)] flex items-center justify-center text-[var(--text-secondary)] flex-shrink-0">
                        <i class="fa-solid fa-square-parking"></i>
                    </div>
                    <div>
                        <h5 class="font-semibold text-[var(--text-main)] text-sm md:text-[0.9375rem]">Parqueo Gratuito
                        </h5>
                        <p class="text-sm text-[var(--text-secondary)] mt-0.5">Valet parking disponible en la entrada
                            principal o autoservicio en el nivel S1.</p>
                    </div>
                </div>
                <div class="detail-row flex items-start gap-3 md:gap-4">
                    <div
                        class="w-9 h-9 md:w-10 md:h-10 rounded-xl bg-[var(--surface-secondary)] flex items-center justify-center text-[var(--text-secondary)] flex-shrink-0">
                        <i class="fa-solid fa-wheelchair"></i>
                    </div>
                    <div>
                        <h5 class="font-semibold text-[var(--text-main)] text-sm md:text-[0.9375rem]">Accesibilidad
                            Total</h5>
                        <p class="text-sm text-[var(--text-secondary)] mt-0.5">Rampas y elevadores disponibles. Espacio
                            amplio entre mesas para movilidad.</p>
                    </div>
                </div>
                <div class="detail-row flex items-start gap-3 md:gap-4">
                    <div
                        class="w-9 h-9 md:w-10 md:h-10 rounded-xl bg-[var(--surface-secondary)] flex items-center justify-center text-[var(--text-secondary)] flex-shrink-0">
                        <i class="fa-solid fa-shield-halved"></i>
                    </div>
                    <div>
                        <h5 class="font-semibold text-[var(--text-main)] text-sm md:text-[0.9375rem]">Seguridad
                            Garantizada</h5>
                        <p class="text-sm text-[var(--text-secondary)] mt-0.5">Monitoreo 24/7 y personal de seguridad
                            privada para tu tranquilidad.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Decorative Image Area — FULL COLOR -->
        <div
            class="md:w-1/2 bg-[var(--surface-secondary)] min-h-[220px] md:min-h-[360px] relative overflow-hidden group">
            <div
                class="absolute inset-0 bg-gradient-to-br from-purple-200/40 to-cyan-200/40 dark:from-purple-900/20 dark:to-cyan-900/20">
            </div>
            <div
                class="absolute top-1/2 left-1/4 w-28 h-16 bg-[var(--surface-primary)] rounded-xl shadow-lg transform -skew-x-12 opacity-75 group-hover:scale-105 transition-transform duration-700">
            </div>
            <div
                class="absolute top-1/2 left-2/4 w-28 h-16 bg-[var(--surface-primary)] rounded-xl shadow-lg transform -skew-x-12 opacity-50 ml-6 group-hover:scale-105 transition-transform duration-700 delay-75">
            </div>
            <div class="absolute bottom-0 left-0 p-5 md:p-7 w-full bg-gradient-to-t from-black/40 to-transparent">
                <span class="text-white font-heading font-bold text-xs tracking-[0.15em] uppercase opacity-80">Interior
                    del Showroom</span>
            </div>
        </div>
    </div>
</section>

<!-- CTA -->
<section class="bg-[var(--surface-primary)] py-10 md:py-16 border-t border-[var(--border-subtle)]">
    <div class="container-custom text-center">
        <h2 class="subsection-title text-[var(--text-main)] mb-3">¿No puedes venir hoy?</h2>
        <p class="text-[var(--text-secondary)] mb-6 md:mb-7 max-w-lg mx-auto text-[0.9375rem] md:text-[1.0625rem]">
            Recibe la misma experiencia premium comprando desde casa. Envíos a todo el país en 24 horas.
        </p>
        <a href="{{ url_for('public.catalog') }}"
            class="inline-flex items-center gap-2 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-bold text-base md:text-lg transition-colors group">
            Ir a la Tienda Online
            <i class="fa-solid fa-arrow-right transform group-hover:translate-x-1.5 transition-transform"></i>
        </a>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const statusText = document.getElementById('store-status');
        const statusDot = document.getElementById('status-dot');

        const openHour = 9;
        const closeHourWeek = 18;
        const closeHourSat = 17;

        const now = new Date();
        const day = now.getDay();
        const hour = now.getHours();

        let isOpen = false;
        let closingSoon = false;

        if (day === 0) {
            isOpen = false;
        } else if (day === 6) {
            if (hour >= openHour && hour < closeHourSat) isOpen = true;
            if (hour === closeHourSat - 1) closingSoon = true;
        } else {
            if (hour >= openHour && hour < closeHourWeek) isOpen = true;
            if (hour === closeHourWeek - 1) closingSoon = true;
        }

        if (isOpen) {
            statusText.textContent = closingSoon ? 'Cierra pronto' : 'Abierto ahora';
            statusText.className = `text-xs font-bold uppercase tracking-wider ${closingSoon ? 'text-yellow-600' : 'text-green-600'}`;
            statusDot.className = `w-2.5 h-2.5 rounded-full flex-shrink-0 animate-pulse ${closingSoon ? 'bg-yellow-500' : 'bg-green-500'}`;
        } else {
            statusText.textContent = 'Cerrado ahora';
            statusText.className = 'text-xs font-bold uppercase tracking-wider text-red-500';
            statusDot.className = 'w-2.5 h-2.5 rounded-full flex-shrink-0 bg-red-500';
        }
    });
</script>
{% endblock %}